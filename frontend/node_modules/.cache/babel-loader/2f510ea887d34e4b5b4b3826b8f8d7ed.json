{"ast":null,"code":"import _classCallCheck from \"/Users/Home/Projects/noteful-client-2/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Home/Projects/noteful-client-2/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Home/Projects/noteful-client-2/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Home/Projects/noteful-client-2/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Home/Projects/noteful-client-2/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Home/Projects/noteful-client-2/frontend/src/AddFolder/AddFolder.js\";\nimport React, { Component } from 'react';\nimport NotefulForm from '../NotefulForm/NotefulForm';\nimport AppContext from '../AppContext';\nimport ValidationError from '../ValidationError';\nimport './AddFolder.css';\nimport ErrorBoundary from '../ErrorBoundary/ErrorBoundary';\n\nvar AddFolder =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddFolder, _Component);\n\n  function AddFolder() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, AddFolder);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AddFolder)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      folderName: '',\n      folderNameValid: false,\n      validationMessages: null\n    };\n    return _this;\n  }\n\n  _createClass(AddFolder, [{\n    key: \"postFolderName\",\n    value: function postFolderName(folderName) {\n      var url = 'http://localhost:8000/api/folders';\n      fetch(url, {\n        method: 'post',\n        headers: {\n          Accept: 'application/json, text/plain, */*',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: folderName\n        })\n      }).then(function (res) {\n        return res.json();\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event, folderName) {\n      event.preventDefault();\n      console.log('handle submit ran');\n      this.postFolderName(folderName);\n    }\n  }, {\n    key: \"validateFolderName\",\n    value: function validateFolderName(name) {\n      var fieldErrors = this.state.validationMessages;\n      var hasError = false;\n      var checkFolderNames = this.context.folders.filter(function (folderName) {\n        return name === folderName.name;\n      });\n\n      if (checkFolderNames.length !== 0) {\n        fieldErrors = 'Folder name already exists';\n        hasError = true;\n      }\n\n      if (name.length === 0) {\n        fieldErrors = 'Folder must have a name';\n        hasError = true;\n      }\n\n      this.setState({\n        validationMessages: fieldErrors,\n        folderNameValid: !hasError\n      }, this.formValid(name));\n    }\n  }, {\n    key: \"formValid\",\n    value: function formValid(name) {\n      if (this.state.folderNameValid) {\n        this.setState({\n          folderName: name\n        });\n      }\n    }\n  }, {\n    key: \"updateFolderName\",\n    value: function updateFolderName(name) {\n      var _this2 = this;\n\n      this.setState({\n        name: name\n      }, function () {\n        return _this2.validateFolderName(name);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"section\", {\n        className: \"AddFolder\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Create a folder\"), React.createElement(ErrorBoundary, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(NotefulForm, {\n        onSubmit: function onSubmit(event, name) {\n          return _this3.context.addFolder(event, _this3.state.folderName);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"folder-name-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Name\"), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"folder-name-input\",\n        onChange: function onChange(e) {\n          return _this3.updateFolderName(e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(ValidationError, {\n        hasError: !this.state.folderNameValid,\n        message: this.state.validationMessages,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        disabled: !this.state.folderNameValid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Add folder\")))));\n    }\n  }]);\n\n  return AddFolder;\n}(Component);\n\nAddFolder.contextType = AppContext;\nexport { AddFolder as default };","map":{"version":3,"sources":["/Users/Home/Projects/noteful-client-2/frontend/src/AddFolder/AddFolder.js"],"names":["React","Component","NotefulForm","AppContext","ValidationError","ErrorBoundary","AddFolder","state","folderName","folderNameValid","validationMessages","url","fetch","method","headers","Accept","body","JSON","stringify","name","then","res","json","event","preventDefault","console","log","postFolderName","fieldErrors","hasError","checkFolderNames","context","folders","filter","length","setState","formValid","validateFolderName","addFolder","e","updateFolderName","target","value","contextType"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,UAAP,MAAuB,eAAvB;AACA,OAAOC,eAAP,MAA4B,oBAA5B;AACA,OAAO,iBAAP;AACA,OAAOC,aAAP,MAA0B,gCAA1B;;IAEqBC,S;;;;;;;;;;;;;;;;;UAGnBC,K,GAAQ;AACNC,MAAAA,UAAU,EAAE,EADN;AAENC,MAAAA,eAAe,EAAE,KAFX;AAGNC,MAAAA,kBAAkB,EAAE;AAHd,K;;;;;;mCAMOF,U,EAAY;AACzB,UAAMG,GAAG,GAAG,mCAAZ;AACAC,MAAAA,KAAK,CAACD,GAAD,EAAM;AACTE,QAAAA,MAAM,EAAE,MADC;AAETC,QAAAA,OAAO,EAAE;AACPC,UAAAA,MAAM,EAAE,mCADD;AAEP,0BAAgB;AAFT,SAFA;AAMTC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,UAAAA,IAAI,EAAEX;AAAR,SAAf;AANG,OAAN,CAAL,CAQGY,IARH,CAQQ,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OARX;AASD;;;iCAEYC,K,EAAOf,U,EAAY;AAC9Be,MAAAA,KAAK,CAACC,cAAN;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACA,WAAKC,cAAL,CAAoBnB,UAApB;AACD;;;uCAEkBW,I,EAAM;AACvB,UAAIS,WAAW,GAAG,KAAKrB,KAAL,CAAWG,kBAA7B;AACA,UAAImB,QAAQ,GAAG,KAAf;AACA,UAAMC,gBAAgB,GAAG,KAAKC,OAAL,CAAaC,OAAb,CAAqBC,MAArB,CACvB,UAAAzB,UAAU;AAAA,eAAIW,IAAI,KAAKX,UAAU,CAACW,IAAxB;AAAA,OADa,CAAzB;;AAIA,UAAIW,gBAAgB,CAACI,MAAjB,KAA4B,CAAhC,EAAmC;AACjCN,QAAAA,WAAW,GAAG,4BAAd;AACAC,QAAAA,QAAQ,GAAG,IAAX;AACD;;AAED,UAAIV,IAAI,CAACe,MAAL,KAAgB,CAApB,EAAuB;AACrBN,QAAAA,WAAW,GAAG,yBAAd;AACAC,QAAAA,QAAQ,GAAG,IAAX;AACD;;AAED,WAAKM,QAAL,CACE;AACEzB,QAAAA,kBAAkB,EAAEkB,WADtB;AAEEnB,QAAAA,eAAe,EAAE,CAACoB;AAFpB,OADF,EAKE,KAAKO,SAAL,CAAejB,IAAf,CALF;AAOD;;;8BAESA,I,EAAM;AACd,UAAI,KAAKZ,KAAL,CAAWE,eAAf,EAAgC;AAC9B,aAAK0B,QAAL,CAAc;AAAE3B,UAAAA,UAAU,EAAEW;AAAd,SAAd;AACD;AACF;;;qCAEgBA,I,EAAM;AAAA;;AACrB,WAAKgB,QAAL,CAAc;AAAEhB,QAAAA,IAAI,EAAJA;AAAF,OAAd,EAAwB;AAAA,eAAM,MAAI,CAACkB,kBAAL,CAAwBlB,IAAxB,CAAN;AAAA,OAAxB;AACD;;;6BAEQ;AAAA;;AACP,aACE;AAAS,QAAA,SAAS,EAAC,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,EAEE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,WAAD;AACE,QAAA,QAAQ,EAAE,kBAACI,KAAD,EAAQJ,IAAR;AAAA,iBACR,MAAI,CAACY,OAAL,CAAaO,SAAb,CAAuBf,KAAvB,EAA8B,MAAI,CAAChB,KAAL,CAAWC,UAAzC,CADQ;AAAA,SADZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKE;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,OAAO,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,EAAE,EAAC,mBAFL;AAGE,QAAA,QAAQ,EAAE,kBAAA+B,CAAC;AAAA,iBAAI,MAAI,CAACC,gBAAL,CAAsBD,CAAC,CAACE,MAAF,CAASC,KAA/B,CAAJ;AAAA,SAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAOE,oBAAC,eAAD;AACE,QAAA,QAAQ,EAAE,CAAC,KAAKnC,KAAL,CAAWE,eADxB;AAEE,QAAA,OAAO,EAAE,KAAKF,KAAL,CAAWG,kBAFtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,CALF,EAiBE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,QAAQ,EAAE,CAAC,KAAKH,KAAL,CAAWE,eAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CAjBF,CADF,CAFF,CADF;AA8BD;;;;EA/FoCR,S;;AAAlBK,S,CACZqC,W,GAAcxC,U;SADFG,S","sourcesContent":["import React, { Component } from 'react';\nimport NotefulForm from '../NotefulForm/NotefulForm';\nimport AppContext from '../AppContext';\nimport ValidationError from '../ValidationError';\nimport './AddFolder.css';\nimport ErrorBoundary from '../ErrorBoundary/ErrorBoundary';\n\nexport default class AddFolder extends Component {\n  static contextType = AppContext;\n\n  state = {\n    folderName: '',\n    folderNameValid: false,\n    validationMessages: null\n  };\n\n  postFolderName(folderName) {\n    const url = 'http://localhost:8000/api/folders';\n    fetch(url, {\n      method: 'post',\n      headers: {\n        Accept: 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ name: folderName })\n    })\n      .then(res => res.json());\n  }\n\n  handleSubmit(event, folderName) {\n    event.preventDefault();\n    console.log('handle submit ran');\n    this.postFolderName(folderName);\n  }\n\n  validateFolderName(name) {\n    let fieldErrors = this.state.validationMessages;\n    let hasError = false;\n    const checkFolderNames = this.context.folders.filter(\n      folderName => name === folderName.name\n    );\n\n    if (checkFolderNames.length !== 0) {\n      fieldErrors = 'Folder name already exists';\n      hasError = true;\n    }\n\n    if (name.length === 0) {\n      fieldErrors = 'Folder must have a name';\n      hasError = true;\n    }\n\n    this.setState(\n      {\n        validationMessages: fieldErrors,\n        folderNameValid: !hasError\n      },\n      this.formValid(name)\n    );\n  }\n\n  formValid(name) {\n    if (this.state.folderNameValid) {\n      this.setState({ folderName: name });\n    }\n  }\n\n  updateFolderName(name) {\n    this.setState({ name }, () => this.validateFolderName(name))\n  }\n\n  render() {\n    return (\n      <section className=\"AddFolder\">\n        <h2>Create a folder</h2>\n        <ErrorBoundary>\n          <NotefulForm\n            onSubmit={(event, name) =>\n              this.context.addFolder(event, this.state.folderName)\n            }\n          >\n            <div className=\"field\">\n              <label htmlFor=\"folder-name-input\">Name</label>\n              <input\n                type=\"text\"\n                id=\"folder-name-input\"\n                onChange={e => this.updateFolderName(e.target.value)}\n              />\n              <ValidationError\n                hasError={!this.state.folderNameValid}\n                message={this.state.validationMessages}\n              />\n            </div>\n            <div className=\"buttons\">\n              <button type=\"submit\" disabled={!this.state.folderNameValid}>\n                Add folder\n              </button>\n            </div>\n          </NotefulForm>\n        </ErrorBoundary>\n      </section>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}